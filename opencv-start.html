<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="pandoc">
    <title>Software Carpentry: xwMOOC 고생대 프로젝트</title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="css/swc.css" />
    <link rel="alternate" type="application/rss+xml" title="Software Carpentry Blog" href="http://software-carpentry.org/feed.xml"/>
    <meta charset="UTF-8" />
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    
      ga('create', 'UA-59802572-17', 'auto');
      ga('send', 'pageview');
    
    </script>
  </head>
  <body class="lesson">
    <div class="container card">
      <div class="banner">
        <a href="http://software-carpentry.org" title="Software Carpentry">
          <img alt="Software Carpentry banner" src="img/software-carpentry-banner.png" />
        </a>
      </div>
      <article>
      <div class="row">
        <div class="col-md-10 col-md-offset-1">
                    <a href="index.html"><h1 class="title">xwMOOC 고생대 프로젝트</h1></a>
          <h2 class="subtitle">OpenCV 맛보기</h2>
          <p><img src="fig/pil-numpy-workflow.png" alt="이미지 파이썬 작업흐름도" width="50%"></p>
<h2 id="이미지-불러오기">1. 이미지 불러오기</h2>
<p><code>PIL</code> 파이썬 이미지 라이브러리와 더불어 <code>numpy</code> 라이브러리를 가져온다.</p>
<p>이미지파일을 열어 파이썬 변수에 저장을 한다. 이때 <code>PIL</code> 라이브러리 <code>.open</code> 메쏘드를 사용한다. 그리고 나서, 이미지 객체를 <code>np.asarray</code> 메쏘드로 변환하고 화면에 출력한다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">from</span> PIL <span class="im">import</span> Image
<span class="im">import</span> numpy <span class="im">as</span> np

img256Png <span class="op">=</span> Image.<span class="bu">open</span>(<span class="st">&#39;../fig/color-256-dot.png&#39;</span>)
img256PngArr <span class="op">=</span> np.asarray(img256Png)

<span class="bu">print</span> img256PngArr</code></pre></div>
<p>출력결과는 다음과 같다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">[[[  <span class="dv">0</span>   <span class="dv">0</span>   <span class="dv">0</span> <span class="dv">255</span>]
  [<span class="dv">255</span> <span class="dv">255</span> <span class="dv">255</span> <span class="dv">255</span>]
  [<span class="dv">255</span> <span class="dv">255</span> <span class="dv">255</span> <span class="dv">255</span>]
  [ <span class="dv">34</span> <span class="dv">177</span>  <span class="dv">76</span> <span class="dv">255</span>]]

 [[<span class="dv">255</span> <span class="dv">255</span> <span class="dv">255</span> <span class="dv">255</span>]
  [<span class="dv">255</span> <span class="dv">255</span> <span class="dv">255</span> <span class="dv">255</span>]
  [<span class="dv">255</span> <span class="dv">255</span> <span class="dv">255</span> <span class="dv">255</span>]
  [<span class="dv">255</span> <span class="dv">255</span> <span class="dv">255</span> <span class="dv">255</span>]]

 [[<span class="dv">255</span> <span class="dv">255</span> <span class="dv">255</span> <span class="dv">255</span>]
  [<span class="dv">255</span> <span class="dv">255</span> <span class="dv">255</span> <span class="dv">255</span>]
  [<span class="dv">255</span> <span class="dv">255</span> <span class="dv">255</span> <span class="dv">255</span>]
  [<span class="dv">255</span> <span class="dv">255</span> <span class="dv">255</span> <span class="dv">255</span>]]

 [[<span class="dv">224</span>  <span class="dv">32</span>  <span class="dv">64</span> <span class="dv">255</span>]
  [<span class="dv">255</span> <span class="dv">255</span> <span class="dv">255</span> <span class="dv">255</span>]
  [<span class="dv">255</span> <span class="dv">255</span> <span class="dv">255</span> <span class="dv">255</span>]
  [ <span class="dv">64</span>  <span class="dv">64</span> <span class="dv">192</span> <span class="dv">255</span>]]]</code></pre></div>
<h2 id="이미지-작업하기">2. 이미지 작업하기</h2>
<p>이미지 파일을 윈도우 그림판에서 불러온다. 작업할 그림은 <a href="https://raw.githubusercontent.com/statkclee/trilobite/gh-pages/fig/color-256-dot.png">GitHub</a>에서 다운로드 받는다. 너무작아 눈에 잘 보이지 않을 수 있다. 화면 좌측 상단 끝에 위치하고 된다–스타크래프트 용어로 11시 방향 화면 끝이다.</p>
<p>윈도우즈 <code>그림판</code>을 최대한 확대하고 <code>도구</code> → <code>연필</code>을 선택한다. 검은색 점을 두개 찍는다.</p>
<p>그래픽 사용자 인터페이스(GUI)를 사용하여 바로 입력하고 결과를 확인하는 방법이 있다.</p>
<p>두번째 방법은 명령라인 인터페이스(CLI)를 사용해서 코딩으로 집어넣는 것이다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"></code></pre></div>
<h3 id="작업-이미지-결과-살펴보기">2.1. 작업 이미지 결과 살펴보기</h3>
<p>운영체제에 별도 설치된 이미지 뷰어를 통해 이미지 파일을 살펴보는 것도 가능하지만, <a href="http://matplotlib.org/">matplotlib</a>을 통해 코드 2줄로 작업된 결과를 바로 살펴보는 것도 가능하다.</p>
<p><code>import matplotlib.pyplot as plt</code> 명령어를 통해서 <code>matplotlib</code> 라이브러리와서 <code>numpy</code> 객체를 입력받아 그래프로 출력한다. <code>plt.imshow(img256PngArr)</code>와 <code>plt.show()</code>를 순차적으로 입력한다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">from</span> PIL <span class="im">import</span> Image
<span class="im">import</span> numpy <span class="im">as</span> np
<span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt

<span class="co"># 256 색상</span>
img256Png <span class="op">=</span> Image.<span class="bu">open</span>(<span class="st">&#39;../fig/color-256-dot.png&#39;</span>)
img256PngArr <span class="op">=</span> np.asarray(img256Png)

<span class="co"># 작업결과 뷰어로 바로보기</span>
plt.imshow(img256PngArr)
plt.show()</code></pre></div>
<p><img src="fig/matplotlib-viewer.png" alt="matplotlib 뷰어" width="50%"></p>
<h2 id="이미지-저장하기">3. 이미지 저장하기</h2>
<p><code>.fromarray()</code> 메쏘드를 통해서 이미지로 저장하고, <code>.save()</code> 메쏘드를 통해 최종적으로 운영체제 이미지 파일로 떨꿔 저장한다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">from</span> PIL <span class="im">import</span> Image
<span class="im">import</span> numpy <span class="im">as</span> np
<span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt

<span class="co"># 256 Color</span>
img256Png <span class="op">=</span> Image.<span class="bu">open</span>(<span class="st">&#39;../fig/color-256-dot.png&#39;</span>)
img256PngArr <span class="op">=</span> np.asarray(img256Png)

saveImage <span class="op">=</span> Image.fromarray(img256PngArr.astype(np.uint8))
saveImage.save(<span class="st">&#39;dot.png&#39;</span>)</code></pre></div>
        </div>
      </div>
      </article>
      <div class="footer">
        <a class="label swc-blue-bg" href="http://software-carpentry.org">Software Carpentry</a>
        <a class="label swc-blue-bg" href="https://github.com/swcarpentry/lesson-template">Source</a>
        <a class="label swc-blue-bg" href="mailto:admin@software-carpentry.org">Contact</a>
        <a class="label swc-blue-bg" href="LICENSE.html">License</a>
      </div>
    </div>
    <!-- Javascript placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="css/bootstrap/bootstrap-js/bootstrap.js"></script>
    <script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
  </body>
</html>
